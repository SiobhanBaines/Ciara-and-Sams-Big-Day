{% extends 'base.html' %}
{% load static %}

{% block page-header %}
<div class="container header-container">

    <div class="row">
        <div class="col"></div>
    </div>
</div>
{% endblock %}


{% block content %}
<div class="container">
    <div class="row">
        <div class="card mx-auto mb-2">
        <form method="POST" enctype="multipart/form-data" class="form-border">
            {% csrf_token %}
            <div class="col-12 ms-5">
                <label for="guest_list_csv" >Select the guest list CSV file you wish to upload</label>
            </div>
            <div class="col-12 mx-2 upload-form">
                <input type="file" name="guest_list_csv" id="guest_list_csv" class="form-control " required />
                <button type="submit" class="btn accept-btn btn-sm">Upload</button>
            </div>
            <!-- </div> -->
        </form>
        </div>
    </div>
    <div class="row">
        <div class="col-6 mx-2">
            <input type="text" name="query" id="query" minlength="3" class="validate" placeholder="Search Last Name"
                required>
            <label for="query" class="query" aria-placeholder="Search Last Name"></label>
            <button type="button" class="btn accept-btn btn-sm"><i class="fas fa-search left"></i>&nbsp;Search</button>
            <button type="button" class="btn btn-secondary btn-sm" type="reset"><i class="fas fa-times-circle left"></i>&nbsp;Reset
            </button>
        </div>
    </div>

    <div class="row">
        <div class="col mx-2">
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th scope="col">Guest Id</th>
                        <th scope="col">First Name</th>
                        <th scope="col">Last Name</th>
                        <th scope="col">Accepted</th>
                        <th scope="col">Meal Chosen</th>
                        <th colspan="3" class="text-center">Action</th>
                    </tr>
                </thead>
                <tbody>
                    {% for guest in guests %}
                    <tr>

                        <td>{{ guest.guest_id }}</th>
                        <td>{{ guest.first_name }}</td>
                        <td>{{ guest.last_name }}</td>
                        <td>{{ guest.accepted}}</td>
                        <td>{{ guest.meal_chosen }}</td>
                        <td><a href="#" class="btn accept-btn btn-sm"><i class="fas fa-eye left"></i>&nbsp;View</a>
                        </td>
                        <td><a href="#" class="btn change-btn btn-sm"><i class="fas fa-edit left"></i>&nbsp;Change</a>
                        </td>
                        <td><a href="#" class="btn btn-danger btn-sm"><i
                                    class="fas fa-times-circle left"></i>&nbsp;Delete</a></td>
                        
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

{% endblock %}