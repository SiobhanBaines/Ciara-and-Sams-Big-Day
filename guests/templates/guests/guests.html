{% extends 'base.html' %}
{% load static %}

{% block page-header %}
<div class="container header-container">

    <div class="row">
        <div class="col"></div>
    </div>
</div>
{% endblock %}


{% block content %}
<div class="container">
    <div class="row">
        <div class="card mx-auto mb-2">
            <div class="card-body">
                <form method="POST" enctype="multipart/form-data" class="form-border">
                    {% csrf_token %}
                    <div class="col-12 justify-content-center">
                        <label for="guest_list_csv">Select the guest list CSV file you wish to upload</label>
                    </div>
                    <div class="row justify-content-around">
                        <div class="col-sm-12 col-md-10">
                            <!-- <div class="col-sm-12  col-md-8 mx-md-2"> -->
                            <input type="file" name="guest_list_csv" id="guest_list_csv" class="form-control "
                                required />
                        </div>
                        <div class="col-sm-12 col-md-2 ">
                            <button type="submit" class="btn accept-btn btn-sm"><i
                                    class="fas fa-upload left"></i>&nbsp;Upload</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="row justify-content-evenly">
        <div class="col-auto mx-2">
            <form method="GET" action="{% url 'guests' %}">
                <input type="text" name="q" placeholder="Search First/Last Name">
                <button class=" btn accept-btn btn-sm" type="submit"><i
                        class="fas fa-search left"></i>&nbsp;Search</button>
            </form>
        </div>
        <div class="col-auto mx-2">
            <button type="button" class="btn accept-btn btn-sm"><i class="fas fa-edit left"></i>&nbsp;Add
                Guest</button>
        </div>
    </div>

    <div class="row">
        <div class="col mx-2">
            <div class="table-responsive">
                <table class="table table-striped table-hover table-sm">
                    <thead>
                        <tr>
                            <th scope="col">Group Id</th>
                            <th scope="col">First Name</th>
                            <th scope="col">Last Name</th>
                            <th scope="col">Accepted</th>
                            <th scope="col">Meal Chosen</th>
                            <th colspan="3" class="text-center">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for guest in guests %}
                        <tr>

                            <td>{{ guest.group_id }}</th>
                            <td>{{ guest.first_name }}</td>
                            <td>{{ guest.last_name }}</td>
                            <td>{{ guest.accepted}}</td>
                            <td>{{ guest.meal_chosen }}</td>
                            <td><a href="#" class="btn accept-btn btn-sm"><i class="fas fa-eye left"></i>&nbsp;View</a>
                            </td>
                            <td><a href="#" class="btn change-btn btn-sm"><i
                                        class="fas fa-edit left"></i>&nbsp;Change</a>
                            </td>
                            <td><a href="#" class="btn btn-danger btn-sm"><i
                                        class="fas fa-times-circle left"></i>&nbsp;Delete</a></td>

                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    {% endblock %}